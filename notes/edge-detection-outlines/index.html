<!-- Made by Alexander Ameye using pure html/css and eleventy ♥ -->
<!DOCTYPE html>
<html lang="en">
    <!-- HEAD -->
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<meta name="description" content="Drawing outlines as a post-processing effect in Unity.">
<meta name="author" content="Alexander Ameye">

<!-- Tells Google not to provide a translation for this document -->
<meta name="google" content="notranslate">

<!-- Identify the software used to build the document -->
<meta name="generator" content="eleventy">

<!-- Open graph -->
<meta property="og:title" content="Edge Detection Outlines">
<meta property="og:description" content="Drawing outlines as a post-processing effect in Unity.">
<meta property="og:type" content="article">
<meta property="og:image" content="undefined/notes/edge-detection-outlines/cover.png"/>
<meta property="og:image:width" content="1200"/>
<meta property="og:image:height" content="675"/>

<!-- Twitter -->
<meta name="twitter:title" content="Edge Detection Outlines">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@alexanderameye">
<meta name="twitter:description" content="Drawing outlines as a post-processing effect in Unity.">
<meta name="twitter:image" content="https://alexanderameye.github.io/notes/edge-detection-outlines/cover.png">
<meta name="twitter:creator" content="@alexanderameye">

<title>Edge Detection Outlines</title>

<!-- CSS -->
<link rel="preload" href="/assets/css/reset.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="/assets/css/reset.css"></noscript>



<style>:root{--image-border-radius:2px}body,html{background-color:var(--body-bg-color);margin:0;padding:0;scroll-behavior:smooth;border:none}.reading-time{text-align:center}.note-date{margin-top:50px;padding-bottom:0;margin-bottom:0;font-size:smaller}.status{display:inline-block;border-radius:5px;margin-bottom:30px;margin-top:30px;font-size:.875rem;line-height:1.25rem;background-color:var(--status-bg);border:0 solid var(--status-text)}.menu ul{list-style-type:none;margin-right:20px;margin-left:20px;padding:0}ul{padding-inline-start:20px;margin-block-start:0px;margin-block-end:0px}.menu ul li{text-align:right;font-family:Inter,serif;font-size:1.2em;padding-top:10px;padding-bottom:10px}.menu{text-align:right;display:none;position:absolute;background-color:var(--navbar-bg-color);box-shadow:-10px 0 30px -15px #0000002b;right:0;position:fixed;z-index:499;top:65px;bottom:0}.menu a{text-decoration:none;color:#000}#toggle{display:none}#toggle:checked+#menu{display:flex}#navbar-desktop{background-color:var(--navbar-bg-color);position:-webkit-sticky;position:sticky;top:0;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding-top:.5rem;padding-bottom:.5rem;z-index:500;border-bottom:1px solid #f0f0f0}#navbar-mobile{background-color:var(--navbar-bg-color);position:-webkit-sticky;position:sticky;top:0;display:flex;flex-wrap:wrap;flex-direction:row;align-items:center;justify-content:space-between;padding-top:1rem;padding-bottom:1rem;padding-left:5px;padding-right:5px;z-index:500;box-shadow:0 0 2px 0 #0000002b}.small-font{font-size:small}.large-font{font-size:large}.column-page{background-color:var(--projects-page-bg-color);padding-bottom:50px;display:grid;grid-gap:10px 30px;grid-template-areas:"left content right" "left footer right"}.column-page-content{background-color:var(--content-bg-color);grid-area:content;position:relative}.projects-page{background-color:var(--projects-page-bg-color);padding-bottom:50px;display:grid;grid-gap:10px 30px;grid-template-areas:"left content right" "left footer right"}.projects-page-content{background-color:var(--content-bg-color);grid-area:content;text-align:justify;position:relative}.notes-list{text-align:right;grid-area:left;list-style-position:inside;list-style:none;margin:0;padding:0}.notes-list-link{text-align:right}.notes-list-link a{text-decoration:none;color:inherit}.notes-list-link a:hover{font-weight:700;font-style:normal}.note-content .download-button{display:inline-block;padding:.25rem .5rem;border-radius:0;border:2px dashed #000;font-size:smaller}.download-button{display:inline-block;padding:.25rem .5rem;border-radius:0;border:2px dashed #000;font-size:smaller;text-decoration:none;color:inherit}.download-button:hover{background-color:var(--link-hover-color);color:#fff;transition:color .2s ease;font-weight:700;opacity:1}.menu li .resume-button{text-decoration:none;color:#fff;background-color:#000;border-radius:5px;line-height:1em;padding:8px 0 8px 10px;align-items:center;font-size:small;z-index:400}.portfolio-button{text-decoration:none;color:#fff;background-color:#000;border-radius:5px;line-height:1em;margin-right:10px;padding:4px 0 4px 10px;align-items:center;font-size:small;display:flex}.portfolio-icon{margin-left:3px;margin-right:4px}[class*=" icon-"].portfolio-icon::before,[class^=icon-].portfolio-icon::before{font-size:16px}.navbar-icon{color:#000;margin-left:5px;margin-right:5px}.note-footer{grid-area:footer;background-color:var(--footer-bg-color);border-top:2px dashed var(--gray);margin-top:20px;padding-top:.8rem;display:flex;align-items:center;justify-content:space-between}.note-tags{padding:0}.note-tags a{display:block;padding-inline-start:10px;padding-inline-end:10px;font-size:14px;line-height:30px;text-decoration:none;background-color:var(--tag-bg);border:2px solid var(--tag-text);color:var(--tag-text);border-radius:10px;transition:transform .1s}.note-tags a:before{content:"#";margin-right:.25rem}.note-tags a:hover{transform:scale(1.05)}.note-tags sup{font-size:xx-small;vertical-align:super}.note-tags li{display:inline-block;padding-right:10px;padding-bottom:5px;padding-top:5px}.tag-yellow{background-color:#ffde69;border:2px solid #594600;color:#594600}.tag{display:inline-block;padding:.25rem .75rem;margin:1rem .5rem 0 0;font-size:1rem;font-family:Inter,sans-serif;line-height:130%;border-radius:.5rem;text-decoration:none;position:relative;top:0;transition:.35s}.anchor{float:left;margin-left:-1em;padding-right:.34em;vertical-align:middle;color:#000;visibility:hidden;background:0 0}figcaption{font-family:Inconsolata,monospace;font-style:normal;font-weight:700;font-size:13px;letter-spacing:.02em;line-height:1.6em;color:rgba(53,53,53,.8)}.images-row{display:flex;margin:20px -5px}.images-row picture{margin:0 5px}.images-row figure picture{margin:0}.images-row figure{margin:0 5px 20px 5px}.images-row img{display:inline-block;max-width:100%;width:auto;height:100%;border-radius:var(--image-border-radius)}li{margin:0;padding:0;font-family:Inconsolata,monospace;text-align:justify;font-style:normal;font-size:16px;letter-spacing:.02em;line-height:1.6em}p img{max-width:100%;border-radius:var(--image-border-radius)}p img[width][height]{height:100%}p img{display:block;margin-left:auto;margin-right:auto;border-style:none;margin-bottom:20px;margin-top:20px}.note-video{display:block;margin-left:auto;margin-right:auto;margin-top:30px;margin-bottom:30px}.blob-num{border-right:1px solid #ddd}.gist-meta a{color:#3b5998!important;font-weight:700;text-decoration:none}.gist-meta a:hover{text-decoration:underline!important}.original-marker{background:linear-gradient(104deg,rgba(130,255,173,0) .9%,#82ffad 2.4%,rgba(130,255,173,.5) 5.8%,rgba(130,255,173,.1) 93%,rgba(130,255,173,.7) 96%,rgba(130,255,1732,0) 98%),linear-gradient(183deg,rgba(130,255,173,0) 0,rgba(130,255,173,.3) 7.9%,rgba(130,255,173,0) 15%);padding:.1em .4em;-webkit-box-decoration-break:clone;margin:0;border-radius:7.5px;text-shadow:-12px 12px 9.8px rgba(130,255,173,.7),21px -18.1px 7.3px #fff,-18.1px -27.3px 30px #fff}mark2{margin:0 -.4em;padding:.1em .4em;border-radius:.8em .3em;background:0 0;background-image:linear-gradient(to right,rgba(255,225,0,.1),rgba(255,225,0,.7) 4%,rgba(255,225,0,.3));-webkit-box-decoration-break:clone;box-decoration-break:clone}#profile-picture{width:50px;height:50px;border-radius:9999px}.navbar-nav>.active{color:#282828;font-weight:700}.nav-title{color:#1b1b1b;text-decoration:none;padding-top:.5rem;padding-bottom:.5rem;padding-left:.75rem;padding-right:.75rem;border-radius:.25rem}.nav-title:hover{color:#000;background:#f4f4f4}.nav-title-active{color:#1571e4}@font-face{font-family:icons;src:url('/assets/fonts/icons.woff2?7673508') format('woff2'),url('/assets/fonts/icons.woff?7673508') format('woff'),url('/assets/fonts/icons.svg?7673508#icons') format('svg');font-weight:400;font-style:normal;font-display:swap}.footer-icon{color:#bebebe}.footer-icon:hover{color:#3c3c3c}[class*=" icon-"]:before,[class^=icon-]:before{font-family:icons;font-style:normal;font-weight:400;display:inline-block;text-decoration:inherit;font-size:24px;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-arrow-up:before{content:'\e800'}.icon-arrow-left:before{content:'\e801'}.icon-eye:before{content:'\e802'}.icon-menu:before{content:'\f008'}.icon-twitter:before{content:'\f099'}.icon-github:before{content:'\f09b'}.icon-linkedin:before{content:'\f0e1'}@media only screen and (max-device-width:1920px){#navbar-mobile{display:none}#back-to-top-mobile{display:none}p img[width]{width:50%}}@media only screen and (max-device-width:400px){#navbar-mobile{display:flex}#navbar-desktop{display:none}#back-to-top-mobile{display:block}#back-to-top-desktop{display:none}p img[width]{width:100%}}@media (min-width:300px){.column-page,.note{grid-template-columns:auto 300px auto}}@media (min-width:576px){.column-page,.note{grid-template-columns:auto 400px auto}}@media (min-width:768px){.column-page,.note{grid-template-columns:auto 400px auto}}@media (min-width:992px){.column-page,.note{grid-template-columns:auto 600px auto}}@media (min-width:1200px){.column-page,.note{grid-template-columns:auto 600px auto}}@media (min-width:1400px){.column-page,.note{grid-template-columns:auto 600px auto}}:root{--body-bg-color:#fcfcfc;--note-bg-color:#fcfcfc;--projects-page-bg-color:#fcfcfc;--scrollbar-bg-color:rgba(0, 0, 0, 0.15);--navbar-bg-color:#fefefe;--footer-bg-color:#fcfcfc;--content-size:800px;--link-hover-color:rgb(0, 0, 0);--marker-roundness:10px;--green:130,255,173;--orange:255,218,98;--blue:79,155,255;--red:255,98,124;--yellow:255,234,71;--gray:rgba(60, 60, 60, 0.7)}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}.px-50{padding-left:.5rem;padding-right:.5rem}.px-75{padding-left:.75rem;padding-right:.75rem}.px-150{padding-left:1.5rem;padding-right:1.5rem}.py-50{padding-top:.5rem;padding-bottom:.5rem}.py-75{padding-top:.75rem;padding-bottom:.75rem}.rounded-25{border-radius:.25rem}.c-gray{color:#282828}.bg-gray-hover:hover{background:#f4f4f4}.no-underline{text-decoration:none}.align-right{text-align:right;list-style-position:inside}::selection{background-color:#e0e0e0}.fade-in{animation:fade-in .8s cubic-bezier(.165,.84,.44,1) both}@keyframes fade-in{0%{opacity:0}100%{opacity:1}}h1,h2,h3{padding-top:40px;padding-bottom:20px}h4{padding-top:15px;padding-bottom:5px;font-size:15px}.note-entry-header h3{padding-top:0}.note-entry-content h3{padding-bottom:0}.project-entry-content h3{padding-bottom:0}.note-content h1{text-align:center}.note-content h2{margin:0}.projects-page-content h2::before{content:"#";color:#cecece;margin:0 10px 0 0}.note-content h2::before{content:"#";color:#cecece;margin:0 10px 0 0}.note-content h3{padding-top:30px}.column-page-content h2::before{content:"#";color:#cecece;margin:0 10px 0 0}.note-content p{margin-bottom:10px;padding:0;font-family:Inconsolata,monospace;text-align:justify;font-style:normal;font-size:16px;letter-spacing:.02em;line-height:1.6em}p{-webkit-hyphens:auto;-ms-hyphens:auto;-moz-hyphens:auto;hyphens:auto}.note-content p a{text-decoration:none;border-bottom:2px dotted #000;opacity:1;color:#000;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.note-content p a:hover{background-color:var(--link-hover-color);color:#fff;transition:color .2s ease;font-weight:700;opacity:1}mark.green{--marker-color:var(--green)}mark.blue{--marker-color:var(--blue)}mark.orange{--marker-color:var(--orange)}mark.red{--marker-color:var(--red)}mark.yellow{--marker-color:var(--yellow)}mark{padding:.1em 5px;margin-right:-5px;margin-left:-5px;border-radius:var(--marker-roundness);-webkit-box-decoration-break:clone;box-decoration-break:clone;background:linear-gradient(104deg,rgba(0,0,0,0) .9%,rgba(var(--marker-color),1.25) 2.4%,rgba(var(--marker-color),.5) 5.8%,rgba(var(--marker-color),.25) 93%,rgba(var(--marker-color),.7) 96%,rgba(0,0,0,0) 98%),linear-gradient(183deg,rgba(0,0,0,0) 0,rgba(var(--marker-color),.3) 7.9%,rgba(0,0,0,0) 15%)}blockquote{box-sizing:border-box;font-style:italic;color:#494949;background-color:rgba(235,236,237,.5);border-color:transparent;border-radius:3px;border-width:1px;border-style:solid;margin-top:10px;margin-bottom:10px;padding:8px 8px 8px 8px}.column-page-content blockquote p{margin:0;text-align:left}.katex-display .katex{padding:5px 10px 5px 10px;border:2px dashed #cacaca;border-radius:5px}.katex-display>.katex{display:inline-block;white-space:nowrap;max-width:90%;overflow-x:scroll;text-align:initial}.katex{line-height:1.2;white-space:normal;text-indent:0}.projects{margin:0 auto;display:grid;grid-gap:1rem;grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.project-entry{position:relative;background:#fff;border-radius:10px;transition:transform .2s;border:1px solid #f0f0f0}.project-entry-image{border-radius:10px 10px 0 0;height:100px;object-fit:cover;width:100%}.project-entry:active{transform:scale(.95)}.project-entry-content{padding:15px}.project-entry-description{margin:8px 0;color:var(--gray);font-size:14px;line-height:1.6;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.project-entry-footer{color:var(--gray);font-size:12px}.project-entry-link{position:absolute;left:0;right:0;top:0;bottom:0}.note-entry-content{position:relative;margin-bottom:20px;padding:15px;background:#fff;border-radius:10px;transition:transform .2s;border:1px solid #f0f0f0}.note-entry:active{transform:scale(.95)}.note-entry-description{margin:8px 0;color:var(--gray);font-size:14px;line-height:1.6;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.column-page-content .note-entry-description p{text-align:left}.column-page-content .note-entry-header h3{line-height:1.3em}.column-page-content p{margin-bottom:10px;font-family:Inconsolata,monospace;text-align:justify;font-style:normal;font-size:16px;letter-spacing:.02em;line-height:1.6em}.note-title{line-height:1.3em}.column-page-content p a{text-decoration:none;border-bottom:2px dotted #000;opacity:1;color:#000}.column-page-content p a:hover{background-color:var(--link-hover-color);color:#fff;transition:color .2s ease;font-weight:700;opacity:1}.note-entry-description p{font-family:Inter,serif}.note-entry-footer{color:var(--gray);font-size:12px}.note-entry-link{position:absolute;left:0;right:0;top:0;bottom:0}.bold{font-weight:700}.timeline{margin-top:20px;margin-bottom:20px}.timeline-list{position:relative;padding-left:45px;list-style:none}.timeline-event p{position:relative;top:-5px;margin:0;text-align:left}.timeline-event .year{font-size:small;padding:0;margin:0;font-weight:700;color:#6e6e6e}.timeline-event{position:relative}.timeline-event.is-not-done{padding-bottom:30px}.timeline-event.is-done{padding-bottom:15px}.timeline-event:before{display:inline-block;content:'';position:absolute;left:-37px;height:100%;width:10px}.timeline-event::after{content:'';display:inline-block;position:absolute;top:0;left:-44px;width:12px;height:12px;border:2px solid #000;border-radius:50%;background-color:#fff}.timeline-event.is-not-done::before{border-left:3px dotted #000}.timeline-event.is-done:not(:last-child)::before{border-left:3px solid #000}.timeline-event.is-done::after{font-size:10px;border:2px solid #000;background-color:#000}.home-header{display:flex;align-items:center;padding-top:20px;padding-bottom:20px}.home-header h2{padding:0;margin:0 0 0 10px;text-align:left}.home-header img{width:3.5rem;height:3.5rem;border-radius:100%;flex-grow:0;flex-shrink:0}.back-to-top-mobile{position:absolute;top:116vh;right:0;bottom:0}.back-to-top-mobile a{padding:.5rem;position:-webkit-sticky;position:sticky;top:91vh;text-decoration:none;display:inline-block;text-align:center;transition:top .4s ease 0s;color:#000;background-color:#fff;border-radius:.25rem;box-shadow:0 8px 15px rgba(0,0,0,.1)}.back-to-top-desktop{position:absolute;top:120vh;bottom:0;right:-100px}.back-to-top-desktop a{padding:.5rem;position:-webkit-sticky;position:sticky;top:91vh;text-decoration:none;display:inline-block;text-align:center;transition:top .4s ease 0s;color:#3c3c3c;background-color:#fff;border-radius:.25rem;box-shadow:0 8px 15px rgba(0,0,0,.1)}.back-to-top-desktop a:hover{top:85vh;color:#aaa}::-webkit-scrollbar{width:22px}::-webkit-scrollbar-track{background:0 0}::-webkit-scrollbar-thumb{background:var(--scrollbar-bg-color);border:5px solid var(--body-bg-color);border-radius:8px}::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,.25)}code[class*=language-],pre[class*=language-]{color:#d6deeb;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;font-size:.9em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:rgba(29,59,83,.99)}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:rgba(29,59,83,.99)}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:1.25em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{color:#fff;background:#011627;border-radius:4px}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.prolog{color:#637777;font-style:italic}.token.punctuation{color:#c792ea}.namespace{color:#b2ccd6}.token.deleted{color:rgba(239,83,80,.56);font-style:italic}.token.property,.token.symbol{color:#80cbc4}.token.keyword,.token.operator,.token.tag{color:#7fdbca}.token.boolean{color:#ff5874}.token.number{color:#f78c6c}.token.builtin,.token.char,.token.constant,.token.function{color:#82aaff}.token.doctype,.token.selector{color:#c792ea;font-style:italic}.token.attr-name,.token.inserted{color:#addb67;font-style:italic}.language-css .token.string,.style .token.string,.token.entity,.token.string,.token.url{color:#addb67}.token.atrule,.token.attr-value,.token.class-name{color:#ffcb8b}.token.important,.token.regex,.token.variable{color:#d6deeb}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}pre::-webkit-scrollbar-thumb{background:#6e6e6e;border:5px solid;border-radius:8px;border-color:#011627}pre::-webkit-scrollbar-thumb:hover{background:#969696}</style>

<!-- Request the stylesheet asynchronously. The onload attribute allows the CSS to be processed when it finishes loading. The noscript works as a fallback for browsers that don't execute JS. -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css"></noscript>

<!-- ICONS -->
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22><text y=%2224%22 font-size=%2224%22>🖍️</text></svg>">
<link rel="preload" as="font" href="/assets/fonts/icons.woff2?7673508" type="font/woff2" crossorigin="crossorigin"/>

<!-- INLINED GOOGLE FONTS -->
<link rel="preconnect" as="font" href="https://fonts.gstatic.com">
<style>
  body,
  h1,
  h2,
  h3,
  h5 {
    font-family: 'Inter', serif;
  }
</style>
<style>
  /* latin */
  @font-face {
    font-family: 'Inter';
    font-style: normal;
    font-weight: 700;
    font-display: swap;
    src: url("https://fonts.gstatic.com/s/inter/v3/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7.woff2") format('woff2');
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
  }
</style>
<!-- <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">-->

<!-- GOOGLE ANALYTICS -->

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-137365487-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-137365487-1');
  </script>

    </head>

    <!-- BODY -->
    <body class="fade-in">
            
<style>
    :root {
        --marker-color: var(--yellow);
    }
</style>

<!-- NAV BAR -->
<header id="navbar-desktop" class="py-75 px-150">
  <!-- <a href="/" aria-label="Back to home page."> <span class="icon-menu px-75 py-75 rounded-25 c-gray bg-gray-hover"></span></a> -->

  <a href="/" aria-label="Back to home page.">
    <img src="/assets/img/icons/letter_a.svg" style="width: 32px; height: 32px;" alt="Website icon" class="navbar-icon"></a>

  <div class="navbar-nav">

  <!--  <a href="/projects" title="My projects" aria-label="My projects." class=" nav-title">Projects</a>-->

<a href="/" aria-label="Home page." class=" nav-title">Home</a>

    <a href="/notes" aria-label="All notes." class=" nav-title">Notes</a>

    <a href="/tags" aria-label="All tags." class=" nav-title">Tags</a>

    <a href="/contact" aria-label="Contact me." class=" nav-title">Contact</a>

  </div>
</header>

<!-- https://cutcodedown.com/tutorial/mobileMenu-->
<!--https://medium.com/@heyoka/responsive-pure-css-off-canvas-hamburger-menu-aebc8d11d793-->
<header id="navbar-mobile">
  <a href="/" aria-label="Back to home page.">
    <img src="/assets/img/icons/letter_a.svg" style="width: 32px; height: 32px;" alt="Website icon" class="navbar-icon"></a>

  <div style="vertical-align: middle; display: flex; align-items: center;">
 <!--   <a class="portfolio-button" href="/projects">My work<span class="icon-eye portfolio-icon"></span></a>-->

   <label for="toggle">
      <span class="icon-menu navbar-icon"></span></label>
  

  </div>

   


</header>

  <input type="checkbox" id="toggle"/>
    <div id="menu" style="" class="menu">
      <ul>
         <!--  <li>
          <a href="/projects">Projects</a>
        </li>-->
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/notes">Notes</a>
        </li>
        <li>
          <a href="/tags">Tags</a>
        </li>
        <li>
          <a href="/contact">Contact</a>
        </li>
        <li>
          <a class="resume-button" href="/downloads/documents/resume_alexander_ameye.pdf" download rel="nofollow">Resume<span class="icon-eye portfolio-icon"></span></a>
        </li>
      </ul>
    </div>

<div class="note column-page">
    <div class="note-content column-page-content">
        <h1 class="note-title">🖍️
            Edge Detection Outlines</h1>

        
          <div class="reading-time">3-minute read</div><p style="--status-bg: #fff6be; --status-text: #af802e; color: #000000; padding: 5px 10px 5px 10px; text-align: left;" class="status">🚧 This page is under construction.</p><p><picture><source type="image/webp" srcset="outline.png-300w.webp 300w, outline.png-400w.webp 400w, outline.png-600w.webp 600w" sizes="(min-width: 30em) 50vw, 100vw"><source type="image/jpeg" srcset="outline.png-300w.jpeg 300w, outline.png-400w.jpeg 400w, outline.png-600w.jpeg 600w" sizes="(min-width: 30em) 50vw, 100vw"><img class="note-image" alt="Outline effect." style="width:;" loading="lazy" decoding="async" src="outline.png-300w.jpeg" width="600" height="361"></picture></p>
<h2>Introduction</h2>
<p>Imagine we give our shader the image below on the left and we want the shader to generate an outline for us. We could simply detect if there is a sudden color discontinuity, and if that is the case, draw an outline. However, it is possible that not all sides have a different color like in the second image. In that case we will need to take a look at the orientation of the face (the normal vector). In the last image, the background has the same color as some of the sides of the structure, in this case we will need to take a look at a depth difference in the scene.</p>
<p><picture><source type="image/webp" srcset="discontinuities_color.png-300w.webp 300w, discontinuities_color.png-400w.webp 400w, discontinuities_color.png-600w.webp 600w" sizes="(min-width: 30em) 50vw, 100vw"><source type="image/jpeg" srcset="discontinuities_color.png-300w.jpeg 300w, discontinuities_color.png-400w.jpeg 400w, discontinuities_color.png-600w.jpeg 600w" sizes="(min-width: 30em) 50vw, 100vw"><img class="note-image" alt="Outline effect." style="width:;" loading="lazy" decoding="async" src="discontinuities_color.png-300w.jpeg" width="600" height="600"></picture>
<picture><source type="image/webp" srcset="discontinuities_normals.png-300w.webp 300w, discontinuities_normals.png-400w.webp 400w, discontinuities_normals.png-600w.webp 600w" sizes="(min-width: 30em) 50vw, 100vw"><source type="image/jpeg" srcset="discontinuities_normals.png-300w.jpeg 300w, discontinuities_normals.png-400w.jpeg 400w, discontinuities_normals.png-600w.jpeg 600w" sizes="(min-width: 30em) 50vw, 100vw"><img class="note-image" alt="Outline effect." style="width:;" loading="lazy" decoding="async" src="discontinuities_normals.png-300w.jpeg" width="600" height="600"></picture>
<picture><source type="image/webp" srcset="discontinuities_depth.png-300w.webp 300w, discontinuities_depth.png-400w.webp 400w, discontinuities_depth.png-600w.webp 600w" sizes="(min-width: 30em) 50vw, 100vw"><source type="image/jpeg" srcset="discontinuities_depth.png-300w.jpeg 300w, discontinuities_depth.png-400w.jpeg 400w, discontinuities_depth.png-600w.jpeg 600w" sizes="(min-width: 30em) 50vw, 100vw"><img class="note-image" alt="Outline effect." style="width:;" loading="lazy" decoding="async" src="discontinuities_depth.png-300w.jpeg" width="600" height="600"></picture></p>
<p>The solution to creating an effective outline shader that will work for all geometry and colors, is to take into account color, normal vector and/or depth discontinuities. But how do we detect these discontinuities?</p>
<h2>DepthNormals Texture</h2>
<p>The Universal Render Pipeline generates a texture called the _CameraColorTexture. This texture gives us a look at all the colors in the scene without any post-processing. We can use it to detect color disconinuities in the scene. A second texture that can be generated by URP, is the _CameraDepthTexture. This texture gives us a color gradient representing the depth of objects in the scene. It uses the red channel so that's why the texture is tinted red.</p>
<p><picture><source type="image/webp" srcset="CameraColorTexture.png-300w.webp 300w" sizes="(min-width: 30em) 50vw, 100vw"><img class="note-image" alt="Outline effect." style="width:;" loading="lazy" decoding="async" src="CameraColorTexture.png-300w.jpeg" width="300" height="299"></picture>
<picture><source type="image/webp" srcset="CameraDepthTexture.png-300w.webp 300w" sizes="(min-width: 30em) 50vw, 100vw"><img class="note-image" alt="Outline effect." style="width:;" loading="lazy" decoding="async" src="CameraDepthTexture.png-300w.jpeg" width="300" height="299"></picture>
<picture><source type="image/webp" srcset="CameraDepthNormalsTexture.png-300w.webp 300w" sizes="(min-width: 30em) 50vw, 100vw"><img class="note-image" alt="Outline effect." style="width:;" loading="lazy" decoding="async" src="CameraDepthNormalsTexture.png-300w.jpeg" width="300" height="299"></picture></p>
<p>A third commonly used texture is the _CameraDepthNormalsTexture which is a texture that combines the depth and normals information of the scene into 1 texture. Sadly, URP does not generate a depth + normals texture. However, it is possible for us to modify the pipeline to generate this texture for us so that we can sample it and use this information in our outline shader. To do this, we will be modifying the pipeline by adding a Scriptable Renderer Feature.</p>
<h2>Scriptable Renderer Feature</h2>
<p>To generate the _CameraDepthNormalsTexture we will be creating our own custom scriptable renderer feature. A scriptable renderer feature can be used to inject render passes into the renderer. We will be creating a script called DepthNormalsFeature.cs. This script will include the ScriptableRendererFeature as well as the ScriptableRendererPass.</p>
<p>The code is as follows.</p>
<script src="https://gist.github.com/alexanderameye/55ad39fdbffca9f98fe86aa568af0833.js"></script>
<p>Now in our renderer asset we can add the DepthNormalsFeature to our renderer features list by using the little plus icon.</p>
<p><picture><source type="image/webp" srcset="DepthNormalsFeature.png-297w.webp 297w" sizes="(min-width: 30em) 50vw, 100vw"><img class="note-image" alt="Outline effect." style="width:;" loading="lazy" decoding="async" src="DepthNormalsFeature.png-297w.jpeg" width="297" height="221"></picture></p>
<p>One more important thing that you should do is check the Depth Texture box in your pipeline asset. This should be done because we will be using this generated depth texture in our outline shader so we want the rendering pipeline to generate it for us.</p>
<p><picture><source type="image/webp" srcset="GenerateDepthTexture.png-155w.webp 155w" sizes="(min-width: 30em) 50vw, 100vw"><img class="note-image" alt="Outline effect." style="width:;" loading="lazy" decoding="async" src="GenerateDepthTexture.png-155w.jpeg" width="155" height="29"></picture></p>
<p>Instead of using the _CameraDepthTexture for depth, we could also just use the _CameraDepthNormalsTexture and decode both normals and depth information from it since the texture contains both. However, I believe that the _CameraDepthTexture provides greater precision when it comes to depth values. That's why we will be getting depth from the _CameraDepthTexture, normals from the _CameraDepthNormalsTexture and color from the _CameraColorTexture.</p>
<h2>Outline Shader</h2>
<p>The next step is to sample this newly generated _CameraDepthNormalsTexture in our shader. We will be using the Custom Function node in shader graph to create the bulk of our outline shader. The custom function node refers to a file called Outline.hlsl with a function called Outline.</p>
<p><picture><source type="image/webp" srcset="CustomFunction.png-300w.webp 300w, CustomFunction.png-400w.webp 400w, CustomFunction.png-600w.webp 600w" sizes="(min-width: 30em) 50vw, 100vw"><source type="image/jpeg" srcset="CustomFunction.png-300w.jpeg 300w, CustomFunction.png-400w.jpeg 400w, CustomFunction.png-600w.jpeg 600w" sizes="(min-width: 30em) 50vw, 100vw"><img class="note-image" alt="Outline effect." style="width:;" loading="lazy" decoding="async" src="CustomFunction.png-300w.jpeg" width="600" height="402"></picture></p>
<p>The code for the Outline.hlsl file can be found below.</p>
<script src="https://gist.github.com/alexanderameye/fffe2ad4ec56ba1dbc3849bc66a1875c.js"></script>
<p>Now if you were to apply this shader to an object, you would get an undesired effect. This is because we will be using this shader as an image effect. This is useful if we want the outline to be applied to all of the objects in the scene.</p>
<h2>Image Effect</h2>
<p>To add the outline as a screen-space image effect, we will be creating another renderer feature with a script called OutlineFeature.cs.</p>
<p>The code looks like this.</p>
<script src="https://gist.github.com/alexanderameye/fe56c473544d2491b6114a3f178020a0.js"></script>
<p>We add this pass to our renderer as a renderer feature and so now we have 2 renderer features. Make sure to assign the outline material to the material slot in the OutlineFeature renderer feature.</p>
<p><picture><source type="image/webp" srcset="OutlineFeature.png-269w.webp 269w" sizes="(min-width: 30em) 50vw, 100vw"><img class="note-image" alt="Outline effect." style="width:;" loading="lazy" decoding="async" src="OutlineFeature.png-269w.jpeg" width="269" height="188"></picture></p>
<p>And that's it! You should now see an outline in your scene and be able to control the outline settings through the outline material inspector.</p>
<video width="100%" title="Cosmog parallax Pokémon card." loop="" autoplay="" playsinline="" muted="true" class="note-video">
<source src="final.mp4" type="video/mp4">
<source src="final.webm" type="video/webm">
</video>


        <div id="back-to-top-desktop" class="back-to-top-desktop">
            <a href="#" aria-label="Back to top of page.">
                <span class="icon-arrow-up"></span></a>
            <!-- this could link to #top and then you have <a name="top"></a> somewhere so you can link to specific spots -->
        </div>

            <div id="back-to-top-mobile" class="back-to-top-mobile">
            <a href="#" aria-label="Back to top of page.">
                <span class="icon-arrow-up"></span></a>
            <!-- this could link to #top and then you have <a name="top"></a> somewhere so you can link to specific spots -->
        </div>



         <div class="note-date"><time>January 7, 2020</time></div>
    </div>

    <footer class="note-footer">
    <ul class="note-tags"><li>
                <a style="--tag-bg: #d4f0ff; --tag-text: #04509c;" href="/tags/graphics">graphics</a>
            </li><li>
                <a style="--tag-bg: #ccffe0; --tag-text: #1b715c;" href="/tags/unity">unity</a>
            </li><li>
                <a style="--tag-bg: #ffd7af; --tag-text: #9c4901;" href="/tags/gamedev">gamedev</a>
            </li></ul>

    <div>
        <a href="https://twitter.com/alexanderameye" rel="noopener" target="_blank" aria-label="Alexander Ameye Twitter.">
            <span class="icon-twitter footer-icon"></span></a>
        <a href="https://www.linkedin.com/in/alexander-ameye-067a0b70/" rel="noopener" target="_blank" aria-label="Alexander Ameye LinkedIn.">
            <span class="icon-linkedin footer-icon"></span></a>
        <a href="https://github.com/alexanderameye" rel="noopener" target="_blank" aria-label="Alexander Ameye GitHub.">
            <span class="icon-github footer-icon"></span></a>
    </div>
</footer>

 
</div>

<script src="https://storage.ko-fi.com/cdn/scripts/overlay-widget.js"></script>
<script>
  kofiWidgetOverlay.draw('alexanderameye', {
    'type': 'floating-chat',
    'floating-chat.donateButton.text': 'Support me',
    'floating-chat.donateButton.background-color': '#323842',
    'floating-chat.donateButton.text-color': '#fff'
  });
</script>
    </body>
</html>